<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta name="author" content="readloud">
    
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Recovering - readloud.org</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Recovering", url: "#_top", children: [
              {title: "Create a new case directory", url: "#create-a-new-case-directory" },
              {title: "Install Hexedit", url: "#install-hexedit" },
              {title: "Run Hexedit", url: "#run-hexedit" },
              {title: "Syntax", url: "#syntax" },
              {title: "Find the start of the JPEG (ffd8ffe1)", url: "#find-the-start-of-the-jpeg-ffd8ffe1" },
              {title: "Output (offset)", url: "#output-offset" },
              {title: "Output", url: "#output" },
              {title: "Find the end of the JPEG (ffd9)", url: "#find-the-end-of-the-jpeg-ffd9" },
              {title: "Search for hexadecimal string ffd9", url: "#search-for-hexadecimal-string-ffd9" },
              {title: "Output (offset)", url: "#output-offset_1" },
              {title: "Calculate the end of the JPEG (in bytes)", url: "#calculate-the-end-of-the-jpeg-in-bytes" },
              {title: "Carve the image using dd command", url: "#carve-the-image-using-dd-command" },
              {title: "Display the image", url: "#display-the-image" },
              {title: "Using Scalpel", url: "#using-scalpel" },
              {title: "Create a local copy of scalpel.conf file", url: "#create-a-local-copy-of-scalpelconf-file" },
              {title: "Verify/Edit the scalpel configuration", url: "#verifyedit-the-scalpel-configuration" },
              {title: "Use Scalpel to carve files", url: "#use-scalpel-to-carve-files" },
              {title: "Results", url: "#results" },
              {title: "Output", url: "#output_2" },
              {title: "Using Foremost", url: "#using-foremost" },
              {title: "Install foremost", url: "#install-foremost" },
              {title: "Change to our working directory", url: "#change-to-our-working-directory" },
              {title: "Use Foremost to carve jpg files", url: "#use-foremost-to-carve-jpg-files" },
              {title: "Results", url: "#results_1" },
              {title: "Output", url: "#output_3" },
              {title: "References:", url: "#references" },
          ]},
          {title: "Deleted Partition", url: "#deleted-partition", children: [
              {title: "Objectives:", url: "#objectives" },
              {title: "Requisites:", url: "#requisites" },
              {title: "Create a new disk partition", url: "#create-a-new-disk-partition" },
              {title: "Create an ext4 filesystem", url: "#create-an-ext4-filesystem" },
              {title: "Create a mountpoint", url: "#create-a-mountpoint" },
              {title: "Mount the filesystem", url: "#mount-the-filesystem" },
              {title: "Download some sample files to the Flashdrive", url: "#download-some-sample-files-to-the-flashdrive" },
              {title: "List the files and inodes", url: "#list-the-files-and-inodes" },
              {title: "Unmount the filesystem", url: "#unmount-the-filesystem" },
              {title: "Delete the partition \u232b", url: "#delete-the-partition" },
              {title: "Try to mount the filesystem", url: "#try-to-mount-the-filesystem" },
              {title: "Output", url: "#output_4" },
          ]},
          {title: "Forenseic Recover using Scapel and dcfldd", url: "#forenseic-recover-using-scapel-and-dcfldd", children: [
              {title: "Optional", url: "#optional" },
              {title: "Create a case folder", url: "#create-a-case-folder" },
              {title: "Create a copy of the evidence", url: "#create-a-copy-of-the-evidence" },
              {title: "Install dcfldd", url: "#install-dcfldd" },
              {title: "Copy the disk and create hash", url: "#copy-the-disk-and-create-hash" },
              {title: "Install Scalpel", url: "#install-scalpel" },
              {title: "Create a local copy of scalpel.conf file", url: "#create-a-local-copy-of-scalpelconf-file_1" },
              {title: "Edit the scalpel configuration", url: "#edit-the-scalpel-configuration" },
              {title: "Hexadecimal", url: "#hexadecimal" },
              {title: "Output of \u0027cat-0.jpg\u0027 hexdump (head)", url: "#output-of-cat-0jpg-hexdump-head" },
              {title: "Carving files", url: "#carving-files" },
              {title: "Results", url: "#results_2" },
              {title: "Output", url: "#output_5" },
          ]},
          {title: "Alternative way", url: "#alternative-way", children: [
              {title: "Use fdisk to obtain the start Sector", url: "#use-fdisk-to-obtain-the-start-sector" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script>
      <script src="../../../search/main.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    

    <h1 id="recovering">Recovering</h1>
<p>==========</p>
<h3 id="create-a-new-case-directory">Create a new case directory</h3>
<div class="language-text highlight"><pre><span></span><code>mkdir /forensic/case &amp;&amp; cd /forensic/case
</code></pre></div>
<h2 id="install-hexedit">Install Hexedit</h2>
<ul>
<li>hexedit - view and edit files in hexadecimal or in ASCII</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>hexedit<span class="w"> </span>-y
</span></code></pre></div>
<h2 id="run-hexedit">Run Hexedit</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>hexedit<span class="w"> </span>/forensic/disk.img
</span></code></pre></div>
<h2 id="syntax">Syntax</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="w">    </span>F1:<span class="w">          </span><span class="nb">help</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="w">    </span>F2:<span class="w">          </span>save
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">    </span>F3:<span class="w">          </span>load<span class="w"> </span>file
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">    </span>Ctrl-Z:<span class="w">      </span><span class="nb">suspend</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">    </span>Ctrl-X:<span class="w">      </span>save<span class="w"> </span>and<span class="w"> </span><span class="nb">exit</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">    </span>Ctrl-C:<span class="w">      </span><span class="nb">exit</span><span class="w"> </span>without<span class="w"> </span>saving
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">    </span>Ctrl-U:<span class="w">      </span>undo<span class="w"> </span>all
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">    </span>Ctrl-S:<span class="w">      </span>search<span class="w"> </span>forward
</span></code></pre></div>
<h2 id="find-the-start-of-the-jpeg-ffd8ffe1">Find the start of the JPEG (ffd8ffe1)</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>Ctrl-S
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>Hexa<span class="w"> </span>string<span class="w"> </span>to<span class="w"> </span>search:<span class="w"> </span>ffd8ffe1
</span></code></pre></div>
<h2 id="output-offset">Output (offset)</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>---<span class="w">  </span>disk.img<span class="w">       </span>--0x840C00/0x6400000--------------------------------------------------------------------
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="sb">````</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="c1">## Calculate the start location of the JPEG (in bytes)</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="sb">```</span>bash
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;ibase=16;0840C00&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>
</span></code></pre></div>
<h2 id="output">Output</h2>
<blockquote>
<p><code>8653824</code></p>
</blockquote>
<h2 id="find-the-end-of-the-jpeg-ffd9">Find the end of the JPEG (ffd9)</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>hexedit<span class="w"> </span>/forensic/disk.img
</span></code></pre></div>
<h2 id="search-for-hexadecimal-string-ffd9">Search for hexadecimal string ffd9</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>Ctrl-S
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>Hexa<span class="w"> </span>string<span class="w"> </span>to<span class="w"> </span>search:<span class="w"> </span>ffd9
</span></code></pre></div>
<h2 id="output-offset_1">Output (offset)</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a>---<span class="w">  </span>disk.img<span class="w">       </span>--0x85CCCD/0x6400000--------------------------------------------------------------------
</span></code></pre></div>
<h2 id="calculate-the-end-of-the-jpeg-in-bytes">Calculate the end of the JPEG (in bytes)</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;ibase=16;85CCCD&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>bc
</span></code></pre></div>
<h3 id="output_1">Output</h3>
<ul>
<li><code>8768717</code></li>
</ul>
<h2 id="carve-the-image-using-dd-command">Carve the image using <code>dd</code> command</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a>dd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/forensic/disk.img<span class="w"> </span><span class="nv">of</span><span class="o">=</span>/forensic/case/001.jpg<span class="w"> </span><span class="nv">skip</span><span class="o">=</span><span class="m">8653824</span><span class="w"> </span><span class="nv">bs</span><span class="o">=</span><span class="m">1</span><span class="w"> </span><span class="nv">count</span><span class="o">=</span><span class="m">8768717</span>
</span></code></pre></div>
<h2 id="display-the-image">Display the image</h2>
<div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a>xdg-open 001.jpg
</span></code></pre></div>
<h2 id="using-scalpel">Using <code>Scalpel</code></h2>
<h2 id="create-a-local-copy-of-scalpelconf-file">Create a local copy of scalpel.conf file</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a>cp<span class="w"> </span>/etc/scalpel.conf<span class="w"> </span>/forensic/case/
</span></code></pre></div>
<h2 id="verifyedit-the-scalpel-configuration">Verify/Edit the scalpel configuration</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a>vim<span class="w"> </span>scalpel.conf
</span></code></pre></div>
<h2 id="use-scalpel-to-carve-files">Use Scalpel to carve files</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a>scalpel<span class="w"> </span>-c<span class="w"> </span>scalpel.conf<span class="w"> </span>/forensic/disk.img
</span></code></pre></div>
<h2 id="results">Results</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a>ls<span class="w">  </span>-R<span class="w"> </span>/forensic/case/scalpel-output/
</span></code></pre></div>
<h2 id="output_2">Output</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a>/forensic/case/scalpel-output/:
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a>audit.txt<span class="w">  </span>jpg-6-0<span class="w">  </span>rpm-41-0<span class="w">  </span>tif-9-0
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a>/forensic/case/scalpel-output/jpg-6-0:
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="m">00000000</span>.jpg<span class="w">  </span><span class="m">00000001</span>.jpg<span class="w">  </span><span class="m">00000002</span>.jpg
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a>/forensic/case/scalpel-output/rpm-41-0:
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="m">00000006</span>.rpm<span class="w">  </span><span class="m">00000007</span>.rpm<span class="w">  </span><span class="m">00000008</span>.rpm<span class="w">  </span><span class="m">00000009</span>.rpm<span class="w">  </span><span class="m">00000010</span>.rpm<span class="w">  </span><span class="m">00000011</span>.rpm<span class="w">  </span><span class="m">00000012</span>.rpm<span class="w">  </span><span class="m">00000013</span>.rpm<span class="w">  </span><span class="m">00000014</span>.rpm<span class="w">  </span><span class="m">00000015</span>.rpm<span class="w">  </span><span class="m">00000016</span>.rpm<span class="w">  </span><span class="m">00000017</span>.rpm<span class="w">  </span><span class="m">00000018</span>.rpm<span class="w">  </span><span class="m">00000019</span>.rpm<span class="w">  </span><span class="m">00000020</span>.rpm
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a>/forensic/case/scalpel-output/tif-9-0:
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="m">00000003</span>.tif<span class="w">  </span><span class="m">00000004</span>.tif<span class="w">  </span><span class="m">00000005</span>.tif
</span></code></pre></div>
<h2 id="using-foremost">Using Foremost</h2>
<ul>
<li>foremost - Recover files using their headers, footers, and data structures </li>
</ul>
<h2 id="install-foremost">Install foremost</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>foremost<span class="w"> </span>-y
</span></code></pre></div>
<h2 id="change-to-our-working-directory">Change to our working directory</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="nb">cd</span><span class="w"> </span>/forensic/case/
</span></code></pre></div>
<h2 id="use-foremost-to-carve-jpg-files">Use Foremost to carve jpg files</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="w">    </span>foremost<span class="w"> </span>-t<span class="w"> </span>jpg<span class="w"> </span>-o<span class="w"> </span>foremost-output<span class="w"> </span>/forensic/disk.img
</span></code></pre></div>
<h2 id="results_1">Results</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a>ls<span class="w"> </span>-lR<span class="w"> </span>foremost-output/
</span></code></pre></div>
<h2 id="output_3">Output</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a>foremost-output/:
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a>total<span class="w"> </span><span class="m">8</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a>-rw-r--r--.<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w">  </span><span class="m">817</span><span class="w"> </span>Jun<span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">10</span>:11<span class="w"> </span>audit.txt
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a>drwxr-xr--.<span class="w"> </span><span class="m">2</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jun<span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">10</span>:11<span class="w"> </span>jpg
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a>foremost-output/jpg:
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a>total<span class="w"> </span><span class="m">440</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a>-rw-r--r--.<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">114895</span><span class="w"> </span>Jun<span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">10</span>:11<span class="w"> </span><span class="m">00016902</span>.jpg
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a>-rw-r--r--.<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">132203</span><span class="w"> </span>Jun<span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">10</span>:11<span class="w"> </span><span class="m">00017128</span>.jpg
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a>-rw-r--r--.<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">195148</span><span class="w"> </span>Jun<span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">10</span>:11<span class="w"> </span><span class="m">00017388</span>.jpg
</span></code></pre></div>
<h2 id="references">References:</h2>
<ul>
<li><a href="https://manpages.ubuntu.com/manpages/bionic/en/man1/hexedit.1.html">Man: hexedit</a></li>
<li><a href="https://manpages.ubuntu.com/manpages/precise/man1/scalpel.1.html">Man: scalpel</a></li>
<li><a href="https://linux.die.net/man/1/foremost">Man: foremost</a></li>
<li><a href="https://resources.infosecinstitute.com/topic/file-carving/">Infosec Institute - Blog post</a>Recovering a </li>
</ul>
<h1 id="deleted-partition">Deleted Partition</h1>
<h3 id="objectives">Objectives:</h3>
<ul>
<li>Use Dcfldd, Scalpel and fdisk</li>
<li>Learn to recovery any lost partition using forensic tools </li>
</ul>
<h3 id="requisites">Requisites:</h3>
<ul>
<li>Any Linux distro</li>
</ul>
<hr />
<blockquote>
<p>Add a 512M Disk to your virtual machine</p>
</blockquote>
<h2 id="create-a-new-disk-partition">Create a new disk partition</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a>fdisk<span class="w"> </span>/dev/sdb
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a>Welcome<span class="w"> </span>to<span class="w"> </span>fdisk<span class="w"> </span><span class="o">(</span>util-linux<span class="w"> </span><span class="m">2</span>.25.2<span class="o">)</span>.
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a>Changes<span class="w"> </span>will<span class="w"> </span>remain<span class="w"> </span><span class="k">in</span><span class="w"> </span>memory<span class="w"> </span>only,<span class="w"> </span><span class="k">until</span><span class="w"> </span>you<span class="w"> </span>decide<span class="w"> </span>to<span class="w"> </span>write<span class="w"> </span>them.
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a>Be<span class="w"> </span>careful<span class="w"> </span>before<span class="w"> </span>using<span class="w"> </span>the<span class="w"> </span>write<span class="w"> </span>command.
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a>Device<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>contain<span class="w"> </span>a<span class="w"> </span>recognized<span class="w"> </span>partition<span class="w"> </span>table.
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a>Created<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>DOS<span class="w"> </span>disklabel<span class="w"> </span>with<span class="w"> </span>disk<span class="w"> </span>identifier<span class="w"> </span>0x109df081.
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a>Command<span class="w"> </span><span class="o">(</span>m<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>n
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a>Partition<span class="w"> </span><span class="nb">type</span>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="w">    </span>p<span class="w">   </span>primary<span class="w"> </span><span class="o">(</span><span class="m">0</span><span class="w"> </span>primary,<span class="w"> </span><span class="m">0</span><span class="w"> </span>extended,<span class="w"> </span><span class="m">4</span><span class="w"> </span>free<span class="o">)</span>
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="w">    </span>e<span class="w">   </span>extended<span class="w"> </span><span class="o">(</span>container<span class="w"> </span><span class="k">for</span><span class="w"> </span>logical<span class="w"> </span>partitions<span class="o">)</span>
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a>Select<span class="w"> </span><span class="o">(</span>default<span class="w"> </span>p<span class="o">)</span>:<span class="w"> </span>
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a>
</span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16" href="#__codelineno-21-16"></a>Using<span class="w"> </span>default<span class="w"> </span>response<span class="w"> </span>p.
</span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17" href="#__codelineno-21-17"></a>Partition<span class="w"> </span>number<span class="w"> </span><span class="o">(</span><span class="m">1</span>-4,<span class="w"> </span>default<span class="w"> </span><span class="m">1</span><span class="o">)</span>:<span class="w"> </span>
</span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18" href="#__codelineno-21-18"></a>First<span class="w"> </span>sector<span class="w"> </span><span class="o">(</span><span class="m">2048</span>-1048575,<span class="w"> </span>default<span class="w"> </span><span class="m">2048</span><span class="o">)</span>:<span class="w"> </span>
</span><span id="__span-21-19"><a id="__codelineno-21-19" name="__codelineno-21-19" href="#__codelineno-21-19"></a>Last<span class="w"> </span>sector,<span class="w"> </span>+sectors<span class="w"> </span>or<span class="w"> </span>+size<span class="o">{</span>K,M,G,T,P<span class="o">}</span><span class="w"> </span><span class="o">(</span><span class="m">2048</span>-1048575,<span class="w"> </span>default<span class="w"> </span><span class="m">1048575</span><span class="o">)</span>:<span class="w"> </span>
</span><span id="__span-21-20"><a id="__codelineno-21-20" name="__codelineno-21-20" href="#__codelineno-21-20"></a>
</span><span id="__span-21-21"><a id="__codelineno-21-21" name="__codelineno-21-21" href="#__codelineno-21-21"></a>Created<span class="w"> </span>a<span class="w"> </span>new<span class="w"> </span>partition<span class="w"> </span><span class="m">1</span><span class="w"> </span>of<span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="s1">&#39;Linux&#39;</span><span class="w"> </span>and<span class="w"> </span>of<span class="w"> </span>size<span class="w"> </span><span class="m">511</span><span class="w"> </span>MiB.
</span><span id="__span-21-22"><a id="__codelineno-21-22" name="__codelineno-21-22" href="#__codelineno-21-22"></a>
</span><span id="__span-21-23"><a id="__codelineno-21-23" name="__codelineno-21-23" href="#__codelineno-21-23"></a>Command<span class="w"> </span><span class="o">(</span>m<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>w
</span><span id="__span-21-24"><a id="__codelineno-21-24" name="__codelineno-21-24" href="#__codelineno-21-24"></a>The<span class="w"> </span>partition<span class="w"> </span>table<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>altered.
</span><span id="__span-21-25"><a id="__codelineno-21-25" name="__codelineno-21-25" href="#__codelineno-21-25"></a>Calling<span class="w"> </span>ioctl<span class="o">()</span><span class="w"> </span>to<span class="w"> </span>re-read<span class="w"> </span>partition<span class="w"> </span>table.
</span><span id="__span-21-26"><a id="__codelineno-21-26" name="__codelineno-21-26" href="#__codelineno-21-26"></a>Syncing<span class="w"> </span>disks.
</span></code></pre></div>
<h2 id="create-an-ext4-filesystem">Create an ext4 filesystem</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a>mkfs.ext4<span class="w"> </span>/dev/sdb1
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="sb">````</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="c1">## Output:</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="sb">```</span>bash
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a>mke2fs<span class="w"> </span><span class="m">1</span>.42.11<span class="w"> </span><span class="o">(</span><span class="m">09</span>-Jul-2014<span class="o">)</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a>Creating<span class="w"> </span>filesystem<span class="w"> </span>with<span class="w"> </span><span class="m">523264</span><span class="w"> </span>1k<span class="w"> </span>blocks<span class="w"> </span>and<span class="w"> </span><span class="m">131072</span><span class="w"> </span>inodes
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a>Filesystem<span class="w"> </span>UUID:<span class="w"> </span>4c904ba1-5a8c-42a6-8d97-5c7d3b0803ce
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a>Superblock<span class="w"> </span>backups<span class="w"> </span>stored<span class="w"> </span>on<span class="w"> </span>blocks:<span class="w"> </span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="w">    </span><span class="m">8193</span>,<span class="w"> </span><span class="m">24577</span>,<span class="w"> </span><span class="m">40961</span>,<span class="w"> </span><span class="m">57345</span>,<span class="w"> </span><span class="m">73729</span>,<span class="w"> </span><span class="m">204801</span>,<span class="w"> </span><span class="m">221185</span>,<span class="w"> </span><span class="m">401409</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a>Allocating<span class="w"> </span>group<span class="w"> </span>tables:<span class="w"> </span><span class="k">done</span><span class="w">                            </span>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a>Writing<span class="w"> </span>inode<span class="w"> </span>tables:<span class="w"> </span><span class="k">done</span><span class="w">                            </span>
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a>Creating<span class="w"> </span>journal<span class="w"> </span><span class="o">(</span><span class="m">8192</span><span class="w"> </span>blocks<span class="o">)</span>:<span class="w"> </span><span class="k">done</span>
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a>Writing<span class="w"> </span>superblocks<span class="w"> </span>and<span class="w"> </span>filesystem<span class="w"> </span>accounting<span class="w"> </span>information:<span class="w"> </span><span class="k">done</span>
</span></code></pre></div>
<h2 id="create-a-mountpoint">Create a mountpoint</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a>mkdir<span class="w"> </span>/mnt/flashdrive
</span></code></pre></div>
<h2 id="mount-the-filesystem">Mount the filesystem</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a>mount<span class="w"> </span>/dev/sdb1<span class="w"> </span>/mnt/flashdrive
</span></code></pre></div>
<h2 id="download-some-sample-files-to-the-flashdrive">Download some sample files to the Flashdrive</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="nb">cd</span><span class="w"> </span>/mnt/flashdrive
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#__codelineno-25-2"></a>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#__codelineno-25-3"></a>curl<span class="w"> </span>-0<span class="w"> </span>https://www.photos-public-domain.com/wp-content/uploads/2017/12/gray-cat-with-green-eyes.jpg<span class="w"> </span>--output<span class="w"> </span>cat-0.jpg
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#__codelineno-25-4"></a>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#__codelineno-25-5"></a>curl<span class="w"> </span>-0<span class="w"> </span>https://www.photos-public-domain.com/wp-content/uploads/2012/10/orange-and-white-cat-in-window-sill.jpg<span class="w"> </span>--output<span class="w"> </span>cat-1.jpg
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#__codelineno-25-6"></a>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#__codelineno-25-7"></a>curl<span class="w"> </span>-0<span class="w"> </span>https://www.photos-public-domain.com/wp-content/uploads/2012/04/funny-cat-hanging-upside-down-on-kitty-tree.jpg<span class="w"> </span>--output<span class="w"> </span>cat-2.jpg
</span></code></pre></div>
<h2 id="list-the-files-and-inodes">List the files and inodes</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a>ls<span class="w"> </span>-li<span class="w"> </span>/mnt/flashdrive/*.jpg
</span></code></pre></div>
<h2 id="unmount-the-filesystem">Unmount the filesystem</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="nb">cd</span><span class="w"> </span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a>umount<span class="w"> </span>/mnt/flashdrive
</span></code></pre></div>
<h2 id="delete-the-partition">Delete the partition ⌫</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a>fdisk<span class="w"> </span>/dev/sdb<span class="w"> </span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a>Welcome<span class="w"> </span>to<span class="w"> </span>fdisk<span class="w"> </span><span class="o">(</span>util-linux<span class="w"> </span><span class="m">2</span>.25.2<span class="o">)</span>.
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a>Changes<span class="w"> </span>will<span class="w"> </span>remain<span class="w"> </span><span class="k">in</span><span class="w"> </span>memory<span class="w"> </span>only,<span class="w"> </span><span class="k">until</span><span class="w"> </span>you<span class="w"> </span>decide<span class="w"> </span>to<span class="w"> </span>write<span class="w"> </span>them.
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a>Be<span class="w"> </span>careful<span class="w"> </span>before<span class="w"> </span>using<span class="w"> </span>the<span class="w"> </span>write<span class="w"> </span>command.
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a>Command<span class="w"> </span><span class="o">(</span>m<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>d
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a>Selected<span class="w"> </span>partition<span class="w"> </span><span class="m">1</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a>Partition<span class="w"> </span><span class="m">1</span><span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>deleted.
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a>Command<span class="w"> </span><span class="o">(</span>m<span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="nb">help</span><span class="o">)</span>:<span class="w"> </span>w
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a>The<span class="w"> </span>partition<span class="w"> </span>table<span class="w"> </span>has<span class="w"> </span>been<span class="w"> </span>altered.
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a>Calling<span class="w"> </span>ioctl<span class="o">()</span><span class="w"> </span>to<span class="w"> </span>re-read<span class="w"> </span>partition<span class="w"> </span>table.
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a>Syncing<span class="w"> </span>disks.
</span></code></pre></div>
<h2 id="try-to-mount-the-filesystem">Try to mount the filesystem</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a>mount<span class="w"> </span>/dev/sdb1<span class="w"> </span>/mnt/flashdrive
</span></code></pre></div>
<h2 id="output_4">Output</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a>mount:<span class="w"> </span>special<span class="w"> </span>device<span class="w"> </span>/dev/sdb1<span class="w"> </span>does<span class="w"> </span>not<span class="w"> </span>exist
</span></code></pre></div>
<h1 id="forenseic-recover-using-scapel-and-dcfldd">Forenseic Recover using <code>Scapel</code> and <code>dcfldd</code></h1>
<h3 id="optional">Optional</h3>
<p>Record typescript of terminal session:</p>
<p><div class="language-bash highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a>script<span class="w"> </span>-a<span class="w"> </span>-t<span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span><span class="k">case</span>.time<span class="w"> </span><span class="k">case</span>.log
</span></code></pre></div>
Play back typescripts, using timing information</p>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a>scriptreplay<span class="w"> </span><span class="k">case</span>.time<span class="w"> </span><span class="k">case</span>.log
</span></code></pre></div>
<hr />
<h2 id="create-a-case-folder">Create a case folder</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a>mkdir<span class="w"> </span>-p<span class="w"> </span>/forensic/case<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">cd</span><span class="w"> </span>/forensic/case
</span></code></pre></div>
<h2 id="create-a-copy-of-the-evidence">Create a copy of the evidence</h2>
<h2 id="install-dcfldd">Install <code>dcfldd</code></h2>
<ul>
<li><strong>dcfldd</strong> is an enhanced version of dd for forensics and security.</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>dcfldd<span class="w"> </span>-y
</span></code></pre></div>
<h2 id="copy-the-disk-and-create-hash">Copy the disk and create hash</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="w">    </span>dcfldd<span class="w"> </span><span class="k">if</span><span class="o">=</span>/dev/sdb<span class="w"> </span><span class="nv">of</span><span class="o">=</span>flashdrive.dd<span class="w"> </span><span class="nv">hash</span><span class="o">=</span>md5<span class="w"> </span><span class="nv">hashlog</span><span class="o">=</span>flashdrive.md5
</span></code></pre></div>
<h2 id="install-scalpel">Install <code>Scalpel</code></h2>
<ul>
<li>Scalpel is used to recover files from a disk image or raw block device based on headers and footers specified by the user.</li>
</ul>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a>sudo<span class="w"> </span>apt-get<span class="w"> </span>install<span class="w"> </span>scalpel<span class="w"> </span>-y
</span></code></pre></div>
<h2 id="create-a-local-copy-of-scalpelconf-file_1">Create a local copy of <strong>scalpel.conf</strong> file</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a>cp<span class="w"> </span>/etc/scalpel.conf<span class="w"> </span>/forensic/case/
</span></code></pre></div>
<h2 id="edit-the-scalpel-configuration">Edit the scalpel configuration</h2>
<ul>
<li>uncomment .jpg configuration
<div class="language-bash highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a>vim<span class="w"> </span>scalpel.conf
</span></code></pre></div></li>
</ul>
<h2 id="hexadecimal">Hexadecimal</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="nb">cd</span><span class="w"> </span>/tmp
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a>curl<span class="w"> </span>-0<span class="w"> </span>https://www.photos-public-domain.com/wp-content/uploads/2017/12/gray-cat-with-green-eyes.jpg<span class="w"> </span>--output<span class="w"> </span>cat-0.jpg
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a>hexdump<span class="w"> </span>cat-0.jpg<span class="w"> </span><span class="p">|</span><span class="w"> </span>head
</span></code></pre></div>
<h2 id="output-of-cat-0jpg-hexdump-head">Output of 'cat-0.jpg' hexdump (head)</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="m">0000000</span><span class="w"> </span>d8ff<span class="w"> </span>e0ff<span class="w"> </span><span class="m">1000</span><span class="w"> </span>464a<span class="w"> </span><span class="m">4649</span><span class="w"> </span><span class="m">0100</span><span class="w"> </span><span class="m">0101</span><span class="w"> </span><span class="m">4800</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="m">0000010</span><span class="w"> </span><span class="m">4800</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span>e1ff<span class="w"> </span>ce30<span class="w"> </span><span class="m">7845</span><span class="w"> </span><span class="m">6669</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span>4d4d
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="m">0000020</span><span class="w"> </span>2a00<span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0800</span><span class="w"> </span><span class="m">0900</span><span class="w"> </span>0f01<span class="w"> </span><span class="m">0200</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0900</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="m">0000030</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span>7a00<span class="w"> </span><span class="m">1001</span><span class="w"> </span><span class="m">0200</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0700</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">8400</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="m">0000040</span><span class="w"> </span>1a01<span class="w"> </span><span class="m">0500</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0100</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span>8c00<span class="w"> </span>1b01<span class="w"> </span><span class="m">0500</span>
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="m">0000050</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0100</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">9400</span><span class="w"> </span><span class="m">2801</span><span class="w"> </span><span class="m">0300</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0100</span>
</span><span id="__span-40-7"><a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="m">0000060</span><span class="w"> </span><span class="m">0200</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">3201</span><span class="w"> </span><span class="m">0200</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">1400</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span>9c00
</span><span id="__span-40-8"><a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a><span class="m">0000070</span><span class="w"> </span><span class="m">1302</span><span class="w"> </span><span class="m">0300</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0100</span><span class="w"> </span><span class="m">0100</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">6987</span><span class="w"> </span><span class="m">0400</span>
</span><span id="__span-40-9"><a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a><span class="m">0000080</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0100</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span>b000<span class="w"> </span><span class="m">2588</span><span class="w"> </span><span class="m">0400</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span><span class="m">0100</span>
</span><span id="__span-40-10"><a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a><span class="m">0000090</span><span class="w"> </span><span class="m">0000</span><span class="w"> </span>320f<span class="w"> </span><span class="m">0000</span><span class="w"> </span>580f<span class="w"> </span>6f4d<span class="w"> </span>6f74<span class="w"> </span>6f72<span class="w"> </span>616c
</span></code></pre></div>
<h2 id="carving-files">Carving files</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a>scalpel<span class="w"> </span>-c<span class="w"> </span>scalpel.conf<span class="w"> </span>flashdrive.dd
</span></code></pre></div>
<h2 id="results_2">Results</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a>ls<span class="w"> </span>-R<span class="w"> </span>/forensic/case/scalpel-output
</span></code></pre></div>
<h2 id="output_5">Output</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a>/forensic/case/scalpel-output:
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a>audit.txt<span class="w">  </span>jpg-6-0<span class="w">  </span>rpm-41-0<span class="w">  </span>tif-9-0
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a>/forensic/case/scalpel-output/jpg-6-0:
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="m">00000000</span>.jpg<span class="w">  </span><span class="m">00000001</span>.jpg<span class="w">  </span><span class="m">00000002</span>.jpg
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a>
</span><span id="__span-43-7"><a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a>/forensic/case/scalpel-output/rpm-41-0:
</span><span id="__span-43-8"><a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="m">00000006</span>.rpm<span class="w">  </span><span class="m">00000007</span>.rpm<span class="w">  </span><span class="m">00000008</span>.rpm<span class="w">  </span><span class="m">00000009</span>.rpm<span class="w">  </span><span class="m">00000010</span>.rpm<span class="w">  </span><span class="m">00000011</span>.rpm<span class="w">  </span><span class="m">00000012</span>.rpm<span class="w">  </span><span class="m">00000013</span>.rpm<span class="w">  </span><span class="m">00000014</span>.rpm<span class="w">  </span><span class="m">00000015</span>.rpm<span class="w">  </span><span class="m">00000016</span>.rpm<span class="w">  </span><span class="m">00000017</span>.rpm<span class="w">  </span><span class="m">00000018</span>.rpm<span class="w">  </span><span class="m">00000019</span>.rpm<span class="w">  </span><span class="m">00000020</span>.rpm
</span><span id="__span-43-9"><a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a>
</span><span id="__span-43-10"><a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a>/forensic/case/scalpel-output/tif-9-0:
</span><span id="__span-43-11"><a id="__codelineno-43-11" name="__codelineno-43-11" href="#__codelineno-43-11"></a><span class="m">00000003</span>.tif<span class="w">  </span><span class="m">00000004</span>.tif<span class="w">  </span><span class="m">00000005</span>.tif
</span></code></pre></div>
<h1 id="alternative-way">Alternative way</h1>
<h2 id="use-fdisk-to-obtain-the-start-sector">Use <code>fdisk</code> to obtain the start Sector</h2>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a>fdisk<span class="w"> </span>-l<span class="w"> </span>flashdrive.dd
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a>
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a>Disk<span class="w"> </span>flashdrive.dd:<span class="w"> </span><span class="m">512</span><span class="w"> </span>MiB,<span class="w"> </span><span class="m">536870912</span><span class="w"> </span>bytes,<span class="w"> </span><span class="m">1048576</span><span class="w"> </span>sectors
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a>Units:<span class="w"> </span>sectors<span class="w"> </span>of<span class="w"> </span><span class="m">1</span><span class="w"> </span>*<span class="w"> </span><span class="nv">512</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes
</span><span id="__span-44-5"><a id="__codelineno-44-5" name="__codelineno-44-5" href="#__codelineno-44-5"></a>Sector<span class="w"> </span>size<span class="w"> </span><span class="o">(</span>logical/physical<span class="o">)</span>:<span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes<span class="w"> </span>/<span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes
</span><span id="__span-44-6"><a id="__codelineno-44-6" name="__codelineno-44-6" href="#__codelineno-44-6"></a>I/O<span class="w"> </span>size<span class="w"> </span><span class="o">(</span>minimum/optimal<span class="o">)</span>:<span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes<span class="w"> </span>/<span class="w"> </span><span class="m">512</span><span class="w"> </span>bytes
</span><span id="__span-44-7"><a id="__codelineno-44-7" name="__codelineno-44-7" href="#__codelineno-44-7"></a>Disklabel<span class="w"> </span>type:<span class="w"> </span>dos
</span><span id="__span-44-8"><a id="__codelineno-44-8" name="__codelineno-44-8" href="#__codelineno-44-8"></a>Disk<span class="w"> </span>identifier:<span class="w"> </span>0x238f1d05
</span><span id="__span-44-9"><a id="__codelineno-44-9" name="__codelineno-44-9" href="#__codelineno-44-9"></a>
</span><span id="__span-44-10"><a id="__codelineno-44-10" name="__codelineno-44-10" href="#__codelineno-44-10"></a>Device<span class="w">     </span>Boot<span class="w"> </span>Start<span class="w">     </span>End<span class="w"> </span>Sectors<span class="w">  </span>Size<span class="w"> </span>Id<span class="w"> </span>Type
</span><span id="__span-44-11"><a id="__codelineno-44-11" name="__codelineno-44-11" href="#__codelineno-44-11"></a>flashdrive.dd1<span class="w">          </span><span class="m">2048</span><span class="w"> </span><span class="m">1048575</span><span class="w"> </span><span class="m">1046528</span><span class="w">  </span>511M<span class="w"> </span><span class="m">83</span><span class="w"> </span>Linux
</span></code></pre></div>
<h3 id="use-bc-to-calculate-the-offset">Use BC to calculate the offset</h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a>bc
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="m">2048</span><span class="w"> </span>*<span class="w"> </span><span class="m">512</span>
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="m">1048576</span>
</span></code></pre></div>
<h3 id="mount-the-filesystem_1">Mount the filesystem</h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a>mount<span class="w"> </span>-o<span class="w"> </span>ro,loop,offset<span class="o">=</span><span class="m">1048576</span><span class="w"> </span>flashdrive.dd<span class="w"> </span>/mnt/flashdrive/
</span></code></pre></div>
<h3 id="list-the-files">List the files</h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a>ls<span class="w"> </span>-lia<span class="w"> </span>/mnt/flashdrive/*.jpg
</span></code></pre></div>
<h3 id="output_6">Output</h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="m">14</span><span class="w"> </span>-rw-r--r--.<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">195148</span><span class="w"> </span>Jun<span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">11</span>:26<span class="w"> </span>/mnt/flashdrive/cat-0.jpg
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="m">13</span><span class="w"> </span>-rw-r--r--.<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">132203</span><span class="w"> </span>Jun<span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">11</span>:26<span class="w"> </span>/mnt/flashdrive/cat-1.jpg
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="m">12</span><span class="w"> </span>-rw-r--r--.<span class="w"> </span><span class="m">1</span><span class="w"> </span>root<span class="w"> </span>root<span class="w"> </span><span class="m">114895</span><span class="w"> </span>Jun<span class="w"> </span><span class="m">27</span><span class="w"> </span><span class="m">11</span>:26<span class="w"> </span>/mnt/flashdrive/cat-2.jpg
</span></code></pre></div>
<h3 id="unmount-the-filesystem_1">Unmount the filesystem</h3>
<div class="language-bash highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="nb">cd</span><span class="w"> </span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a>umount<span class="w"> </span>/mnt/flashdrive
</span></code></pre></div>
<h3 id="references_1">References:</h3>
<ul>
<li><a href="https://packages.ubuntu.com/xenial/dcfldd">Man: Dcfldd</a></li>
<li><a href="https://manpages.ubuntu.com/manpages/precise/man1/scalpel.1.html">Man: Scalpel</a></li>
<li><a href="https://linux.die.net/man/8/fdisk">Man: fdisk</a></li>
</ul>

  <br>
    

    <br>
</div>

<footer class="col-md-12 wm-page-content">
      <p>
        <a href="https://github.com/readloud/readloud.github.io/releases/tag/themes/edit/master/docs/explore/resource/recoveringdeletedpartition.md"><i class="fa fa-github"></i>
Edit on GitHub</a>
      </p>
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/noraj/mkdocs-windmill-dark">Windmill Dark</a> theme by Alexandre ZANNI (noraj).</p>
<p>        ⚠️ The quieter you become, the more you are able to hear 🥷</p>
</footer>

</body>
</html>