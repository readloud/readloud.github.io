(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1954],{883:(e,s,t)=>{"use strict";t.d(s,{J:()=>a});let a="https://api.receiptflex.cc"},3999:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var a=t(2596),r=t(9688);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},6933:(e,s,t)=>{Promise.resolve().then(t.bind(t,8584)),Promise.resolve().then(t.bind(t,7503))},7168:(e,s,t)=>{"use strict";t.d(s,{$:()=>d});var a=t(5155),r=t(2115),n=t(9708),i=t(2085),l=t(3999);let o=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,s)=>{let{className:t,variant:r,size:i,asChild:d=!1,...c}=e,m=d?n.DX:"button";return(0,a.jsx)(m,{className:(0,l.cn)(o({variant:r,size:i,className:t})),ref:s,...c})});d.displayName="Button"},7503:(e,s,t)=>{"use strict";t.d(s,{J:()=>o,UserProvider:()=>l});var a=t(5155),r=t(2115),n=t(883);let i=(0,r.createContext)(void 0);function l(e){let{children:s}=e,[t,l]=(0,r.useState)(null),[o,d]=(0,r.useState)(!0),[c,m]=(0,r.useState)(null),h=async()=>{try{let e=localStorage.getItem("token");if(!e){d(!1);return}let s=await fetch("".concat(n.J,"/user/@me"),{headers:{Authorization:"Bearer ".concat(e)}}),t=await s.json();200===t.c&&t.u?l(t.u):(m(t.m||"Failed to fetch user data"),localStorage.removeItem("token"))}catch(e){console.error("[DEBUG] Issue with fetching information about the user:",e),m("An error occurred while fetching user data")}finally{d(!1)}},u=async()=>{d(!0),await h()};return(0,r.useEffect)(()=>{h()},[]),(0,a.jsx)(i.Provider,{value:{user:t,loading:o,error:c,refreshUser:u},children:s})}function o(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useUser must be used within a UserProvider");return e}},8584:(e,s,t)=>{"use strict";t.d(s,{default:()=>B});var a=t(5155),r=t(2115),n=t(6766),i=t(6874),l=t.n(i),o=t(5695),d=t(7168),c=t(3783),m=t(664),h=t(2657),u=t(6151),x=t(7580),f=t(381),b=t(9803),p=t(5525),g=t(4416),v=t(4783),w=t(3052),j=t(4835),N=t(8665),y=t(5196),k=t(9428),A=t(3999);let z=N.bL,_=N.l9;N.YJ,N.ZL,N.Pb,N.z6,r.forwardRef((e,s)=>{let{className:t,inset:r,children:n,...i}=e;return(0,a.jsxs)(N.ZP,{ref:s,className:(0,A.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",t),...i,children:[n,(0,a.jsx)(w.A,{className:"ml-auto"})]})}).displayName=N.ZP.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(N.G5,{ref:s,className:(0,A.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}).displayName=N.G5.displayName;let C=r.forwardRef((e,s)=>{let{className:t,sideOffset:r=4,...n}=e;return(0,a.jsx)(N.ZL,{children:(0,a.jsx)(N.UC,{ref:s,sideOffset:r,className:(0,A.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})})});C.displayName=N.UC.displayName;let S=r.forwardRef((e,s)=>{let{className:t,inset:r,...n}=e;return(0,a.jsx)(N.q7,{ref:s,className:(0,A.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",t),...n})});function U(e){let{user:s}=e,t=(0,o.usePathname)(),[i,N]=(0,r.useState)(!1),y=()=>{N(!1)},k=()=>{localStorage.removeItem("token"),window.location.href="/login"},A=[{name:"Overview",href:"/dashboard",icon:c.A},{name:"Generate",href:"/dashboard/generate",icon:m.A},{name:"View Bot",href:"/dashboard/view",icon:h.A},{name:"Brands",href:"/dashboard/brands",icon:u.A},{name:"Referral",href:"/dashboard/referral",icon:x.A},{name:"Settings",href:"/dashboard/settings",icon:f.A},{name:"Manage License",href:"/dashboard/license",icon:b.A}];return"admin"===s.access&&A.push({name:"Admin",href:"/dashboard/admin",icon:p.A}),(0,a.jsxs)(a.Fragment,{children:[i&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-40 md:hidden",onClick:y}),(0,a.jsx)(d.$,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 md:hidden text-white",onClick:()=>{N(!i)},"aria-label":i?"Close menu":"Open menu",children:i?(0,a.jsx)(g.A,{className:"h-6 w-6"}):(0,a.jsx)(v.A,{className:"h-6 w-6"})}),(0,a.jsx)("div",{className:"hidden md:block fixed top-4 left-4 bottom-4 z-30",children:(0,a.jsx)("aside",{className:"h-full w-72 rounded-2xl border border-white/10 bg-black/40 backdrop-blur-xl shadow-2xl",children:(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsx)("div",{className:"flex h-16 items-center justify-center border-b border-white/10 px-6",children:(0,a.jsx)(l(),{href:"/dashboard",className:"flex items-center justify-center",children:(0,a.jsx)(n.default,{src:"/image.png",alt:"Logo",width:200,height:20,className:"object-contain"})})}),(0,a.jsx)("div",{className:"flex-1 overflow-auto py-8 px-3",children:(0,a.jsx)("nav",{className:"space-y-2",children:A.map(e=>(0,a.jsxs)(l(),{href:e.href,className:"flex items-center rounded-xl px-4 py-3 text-sm font-medium transition-all duration-200 ".concat(t===e.href?"bg-gradient-to-r from-[#12883e] to-[#16a24a] text-white shadow-lg shadow-green-500/20":"text-gray-300 hover:bg-white/5 hover:text-white"),children:[(0,a.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name))})}),(0,a.jsx)("div",{className:"border-t border-white/10 p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-white truncate",children:(null==s?void 0:s.username)||"Username"}),(0,a.jsxs)("span",{className:"text-xs text-gray-400 truncate",children:["ID: ",(null==s?void 0:s.id)||"Unknown"]})]}),(0,a.jsxs)(z,{children:[(0,a.jsx)(_,{asChild:!0,children:(0,a.jsx)(d.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-white hover:bg-white/5",children:(0,a.jsx)(w.A,{className:"h-4 w-4"})})}),(0,a.jsx)(C,{align:"end",className:"w-40 bg-black/90 backdrop-blur-xl border border-white/10",children:(0,a.jsxs)(S,{className:"text-white focus:bg-[#16a24a] focus:text-white",onClick:k,children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Logout"})]})})]})]})})]})})}),(0,a.jsx)("aside",{className:"md:hidden fixed top-0 left-0 z-40 h-screen w-72 border-r border-white/10 bg-black/40 backdrop-blur-xl transition-transform duration-300 ".concat(i?"translate-x-0":"-translate-x-full"),children:(0,a.jsxs)("div",{className:"flex h-full flex-col",children:[(0,a.jsx)("div",{className:"flex h-16 items-center justify-center border-b border-white/10 px-6",children:(0,a.jsx)(l(),{href:"/dashboard",onClick:y,className:"flex items-center justify-center",children:(0,a.jsx)(n.default,{src:"/image.png",alt:"Logo",width:200,height:20,className:"object-contain"})})}),(0,a.jsx)("div",{className:"flex-1 overflow-auto py-8 px-3",children:(0,a.jsx)("nav",{className:"space-y-2",children:A.map(e=>(0,a.jsxs)(l(),{href:e.href,onClick:y,className:"flex items-center rounded-xl px-4 py-3 text-sm font-medium transition-all duration-200 ".concat(t===e.href?"bg-gradient-to-r from-[#12883e] to-[#16a24a] text-white shadow-lg shadow-green-500/20":"text-gray-300 hover:bg-white/5 hover:text-white"),children:[(0,a.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name))})}),(0,a.jsx)("div",{className:"border-t border-white/10 p-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-white truncate",children:(null==s?void 0:s.username)||"Username"}),(0,a.jsxs)("span",{className:"text-xs text-gray-400 truncate",children:["ID: ",(null==s?void 0:s.id)||"Unknown"]})]}),(0,a.jsxs)(z,{children:[(0,a.jsx)(_,{asChild:!0,children:(0,a.jsx)(d.$,{variant:"ghost",size:"icon",className:"h-8 w-8 text-white hover:bg-white/5",children:(0,a.jsx)(w.A,{className:"h-4 w-4"})})}),(0,a.jsx)(C,{align:"end",className:"w-40 bg-black/90 backdrop-blur-xl border border-white/10",children:(0,a.jsxs)(S,{className:"text-white focus:bg-[#16a24a] focus:text-white",onClick:k,children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Logout"})]})})]})]})})]})})]})}S.displayName=N.q7.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,checked:n,...i}=e;return(0,a.jsxs)(N.H_,{ref:s,className:(0,A.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(N.VF,{children:(0,a.jsx)(y.A,{className:"h-4 w-4"})})}),r]})}).displayName=N.H_.displayName,r.forwardRef((e,s)=>{let{className:t,children:r,...n}=e;return(0,a.jsxs)(N.hN,{ref:s,className:(0,A.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(N.VF,{children:(0,a.jsx)(k.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=N.hN.displayName,r.forwardRef((e,s)=>{let{className:t,inset:r,...n}=e;return(0,a.jsx)(N.JU,{ref:s,className:(0,A.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...n})}).displayName=N.JU.displayName,r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(N.wv,{ref:s,className:(0,A.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=N.wv.displayName;var P=t(1362);function R(e){let{children:s,...t}=e;return(0,a.jsx)(P.N,{...t,children:s})}var L=t(7503),E=t(6877),I=t(1243);function J(){return(0,a.jsx)("div",{className:"min-h-screen w-full bg-black flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-black/50 border border-white/10 rounded-lg p-8 text-center",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(E.A,{className:"h-20 w-20 text-[#16a24a]"}),(0,a.jsx)("div",{className:"absolute -top-2 -right-2 bg-red-500 rounded-full p-1",children:(0,a.jsx)(I.A,{className:"h-6 w-6 text-white"})})]})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Account Suspended"}),(0,a.jsx)("p",{className:"text-gray-300 mb-6",children:"Your account has been suspended from our service. If you believe this is an error, please contact support."}),(0,a.jsxs)(d.$,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},className:"bg-[#12883e] hover:bg-[#16a24a] text-white w-full",children:[(0,a.jsx)(j.A,{className:"mr-2 h-5 w-5"}),"Log Out"]})]})})}function $(){return(0,a.jsx)("div",{className:"min-h-screen w-full bg-black flex items-center justify-center p-4",children:(0,a.jsxs)("div",{className:"max-w-md w-full bg-black/50 border border-white/10 rounded-lg p-8 text-center",children:[(0,a.jsx)("div",{className:"flex justify-center mb-6",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(f.A,{className:"h-20 w-20 text-[#16a24a] animate-spin-slow"}),(0,a.jsx)("div",{className:"absolute -top-2 -right-2 bg-yellow-500 rounded-full p-1",children:(0,a.jsx)(I.A,{className:"h-6 w-6 text-black"})})]})}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Maintenance in Progress"}),(0,a.jsx)("p",{className:"text-gray-300 mb-6",children:"Our system is currently undergoing scheduled maintenance. We'll be back shortly. Thank you for your patience."}),(0,a.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,a.jsx)(d.$,{onClick:()=>{window.location.reload()},className:"bg-[#12883e] hover:bg-[#16a24a] text-white w-full",children:"Refresh"}),(0,a.jsx)(d.$,{onClick:()=>{window.location.href="https://discord.gg/receiptflex"},className:"bg-[#12883e] hover:bg-[#16a24a] text-white w-full",children:"Check Discord for Updates"})]})]})})}var O=t(883);function F(e){let{children:s}=e,{loading:t,user:n}=(0,L.J)(),i=(0,o.useRouter)(),[l,d]=(0,r.useState)(null),[c,m]=(0,r.useState)(!0),[h,u]=(0,r.useState)(null);return((0,r.useEffect)(()=>{if(!localStorage.getItem("token")){i.replace("/unauthorized"),u(!1);return}u(!0)},[]),(0,r.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(O.J,"/site")),s=await e.json();s&&d(s)}catch(e){console.error("Error checking site status:",e)}finally{m(!1)}})()},[]),t||c)?(0,a.jsx)("div",{className:"min-h-screen bg-[#0d0d0d] flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-[#16a24a] border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),(0,a.jsx)("p",{className:"mt-4 text-lg text-white",children:"Loading..."})]})}):l&&!l.login&&n&&"admin"!==n.access?(i.push("/login?error=login_disabled"),null):l&&l.maintanance&&n&&"admin"!==n.access?(0,a.jsx)($,{}):n?"banned"===n.access?(0,a.jsx)(J,{}):(0,a.jsxs)("div",{className:"flex min-h-screen",children:[(0,a.jsx)(U,{user:n}),(0,a.jsx)("main",{className:"flex-1 overflow-y-auto ml-0 md:ml-64 p-6 md:p-8",children:s})]}):null}function B(e){let{children:s}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"min-h-screen bg-[#0d0d0d] antialiased",children:(0,a.jsx)(R,{attribute:"class",defaultTheme:"dark",children:(0,a.jsx)(L.UserProvider,{children:(0,a.jsx)(F,{children:s})})})})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[4277,6874,2777,1808,6766,2424,8441,1684,7358],()=>s(6933)),_N_E=e.O()}]);