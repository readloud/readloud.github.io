(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{306:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])},545:(e,t,r)=>{"use strict";r.d(t,{default:()=>v});var s=r(5155),a=r(7168),i=r(8482),l=r(3766),n=r(6874),c=r.n(n),d=r(5695),o=r(2115),u=r(883),h=r(306),x=r(1243);function m(){return(0,s.jsx)("div",{className:"min-h-screen w-full bg-black flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-black/50 border border-white/10 rounded-lg p-8 text-center",children:[(0,s.jsx)("div",{className:"flex justify-center mb-6",children:(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.A,{className:"h-20 w-20 text-[#16a24a]"}),(0,s.jsx)("div",{className:"absolute -top-2 -right-2 bg-yellow-500 rounded-full p-1",children:(0,s.jsx)(x.A,{className:"h-6 w-6 text-black"})})]})}),(0,s.jsx)("h1",{className:"text-2xl font-bold text-white mb-4",children:"Logins Temporarily Disabled"}),(0,s.jsx)("p",{className:"text-gray-300 mb-6",children:"New logins are currently disabled by the administrator. Please check back later or contact support for more information."}),(0,s.jsx)(a.$,{asChild:!0,className:"bg-[#12883e] hover:bg-[#16a24a] text-white w-full",children:(0,s.jsx)(c(),{href:"/",children:"Return to Home"})})]})})}var f=r(8739);function g(){return(0,s.jsx)("footer",{className:"bg-[#0d0d0d] border-t border-white/10 py-4",children:(0,s.jsx)("div",{className:"container mx-auto px-6",children:(0,s.jsx)("div",{className:"text-center text-gray-500 text-sm",children:(0,s.jsxs)("p",{children:["\xa9 ",new Date().getFullYear()," ReceiptFlex. All rights reserved."]})})})})}function b(e){let{siteStatus:t}=e,r=(0,d.useRouter)(),[n,u]=(0,o.useState)(!1),[h,x]=(0,o.useState)(!1),[b,p]=(0,o.useState)({visible:!1,message:"",type:"error"}),v=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";p({visible:!0,message:e,type:t})},[j,y]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{localStorage.getItem("token")&&(u(!0),r.push("/dashboard"))},[r]),t&&!t.login)?(0,s.jsx)(m,{}):n?(0,s.jsx)("div",{className:"min-h-screen w-full bg-[#0d0d0d] flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-[#16a24a] border-r-transparent"}),(0,s.jsx)("p",{className:"mt-4 text-lg text-white",children:"Redirecting to dashboard..."})]})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.H,{visible:b.visible,message:b.message,type:b.type,onClose:()=>{p({...b,visible:!1})},duration:4e3}),j&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 bg-black/70 flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"bg-[#111] border border-white/10 p-6 rounded-xl w-full max-w-3xl relative",children:[(0,s.jsx)("button",{onClick:()=>y(!1),className:"absolute top-3 right-3 text-white text-xl",children:"\xd7"}),(0,s.jsx)("iframe",{src:"/terms",className:"w-full h-[60vh] rounded-lg border border-white/10"})]})}),(0,s.jsxs)("div",{className:"min-h-screen w-full bg-[#0d0d0d] flex flex-col",children:[(0,s.jsx)("div",{className:"flex-grow flex items-center justify-center relative overflow-hidden",children:(0,s.jsxs)("div",{className:"z-20 w-full max-w-md px-4",children:[(0,s.jsxs)(i.Zp,{className:"bg-[#0d0d0d] backdrop-blur-md border border-white/10 text-white shadow-xl",children:[(0,s.jsxs)(i.aR,{className:"space-y-1 text-center",children:[(0,s.jsx)(i.ZB,{className:"text-2xl font-bold",children:"Welcome to ReceiptFlex"}),(0,s.jsx)(i.BT,{className:"text-gray-400",children:"Sign in to access the dashboard"})]}),(0,s.jsx)(i.Wu,{className:"grid gap-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 text-gray-300 text-sm",children:[(0,s.jsx)("input",{type:"checkbox",checked:h,onChange:()=>x(!h),className:"w-4 h-4 rounded"}),(0,s.jsxs)("span",{children:["I agree to the"," ",(0,s.jsx)("button",{className:"text-[#16a24a] hover:underline",onClick:()=>y(!0),children:"Terms of Service"})]})]})}),(0,s.jsx)(i.wL,{children:(0,s.jsxs)(a.$,{onClick:()=>{if(!h){v("You must agree to the Terms of Service before continuing.");return}window.location.href="https://discord.com/oauth2/authorize?client_id=1349948148226723850&scope=identify%20guilds.join&response_type=code&redirect_uri=https://receiptflex.cc/auth"},className:"w-full bg-[#12883e] hover:bg-[#16a24a] text-white flex items-center justify-center gap-2 py-6",children:[(0,s.jsx)(l.b,{className:"h-6 w-6"}),"Login with Discord OAuth"]})})]}),(0,s.jsx)("div",{className:"mt-4 text-center",children:(0,s.jsx)(c(),{href:"/",className:"text-sm text-gray-400 hover:text-white transition-colors",children:"Back to Home"})})]})}),(0,s.jsx)(g,{})]})]})}function p(){return(0,s.jsx)("div",{className:"min-h-screen w-full bg-[#0d0d0d] flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-[#16a24a] border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),(0,s.jsx)("p",{className:"mt-4 text-lg text-white",children:"Loading..."})]})})}function v(){let[e,t]=(0,o.useState)(null),[r,a]=(0,o.useState)(!0),i=(0,d.useRouter)();return((0,o.useEffect)(()=>{let e=async()=>{try{let e=await fetch("".concat(u.J,"/site")),r=await e.json();r&&t(r)}catch(e){console.error("Error checking site status:",e)}finally{a(!1)}};(async()=>{let e=localStorage.getItem("token");if(e)try{let t=await fetch("".concat(u.J,"/user/@me"),{headers:{Authorization:"Bearer ".concat(e)}}),r=await t.json();200===r.c&&r.u?i.push("/dashboard"):localStorage.removeItem("token")}catch(e){console.error("Error validating token:",e)}})(),e()},[i]),r)?(0,s.jsx)(p,{}):(0,s.jsx)(o.Suspense,{fallback:(0,s.jsx)(p,{}),children:(0,s.jsx)(b,{siteStatus:e})})}},626:(e,t,r)=>{Promise.resolve().then(r.bind(r,545))},646:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},883:(e,t,r)=>{"use strict";r.d(t,{J:()=>s});let s="https://api.receiptflex.cc"},1243:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},1284:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]])},3766:(e,t,r)=>{"use strict";r.d(t,{b:()=>a});var s=r(5155);function a(e){return(0,s.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",...e,children:[(0,s.jsx)("defs",{children:(0,s.jsxs)("mask",{id:"discord-mask",children:[(0,s.jsx)("rect",{width:"100%",height:"100%",fill:"white"}),(0,s.jsx)("circle",{cx:"8.5",cy:"12.5",r:"1.5",fill:"black"}),(0,s.jsx)("circle",{cx:"15.5",cy:"12.5",r:"1.5",fill:"black"})]})}),(0,s.jsx)("path",{mask:"url(#discord-mask)",fill:"currentColor",d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286z"})]})}},3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var s=r(2596),a=r(9688);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}},5339:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(9946).A)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},5695:(e,t,r)=>{"use strict";var s=r(8999);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},7168:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(5155),a=r(2115),i=r(9708),l=r(2085),n=r(3999);let c=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:d=!1,...o}=e,u=d?i.DX:"button";return(0,s.jsx)(u,{className:(0,n.cn)(c({variant:a,size:l,className:r})),ref:t,...o})});d.displayName="Button"},8482:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>o,ZB:()=>c,Zp:()=>l,aR:()=>n,wL:()=>u});var s=r(5155),a=r(2115),i=r(3999);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let n=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",r),...a})});n.displayName="CardHeader";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});c.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",r),...a})});o.displayName="CardContent";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",r),...a})});u.displayName="CardFooter"},8739:(e,t,r)=>{"use strict";r.d(t,{H:()=>h});var s=r(5155),a=r(2115),i=r(760),l=r(6848),n=r(646),c=r(5339),d=r(1284),o=r(4416),u=r(7168);function h(e){let{message:t,type:r="info",duration:h=3e3,onClose:x,visible:m}=e,[f,g]=(0,a.useState)(m);return(0,a.useEffect)(()=>{if(g(m),m&&h>0){let e=setTimeout(()=>{g(!1),x&&x()},h);return()=>clearTimeout(e)}},[m,h,x]),(0,s.jsx)(i.N,{children:f&&(0,s.jsx)(l.P.div,{className:"fixed bottom-0 left-0 right-0 p-4 z-50 pointer-events-none",initial:{y:100,opacity:0},animate:{y:0,opacity:1},exit:{y:100,opacity:0},transition:{type:"spring",stiffness:500,damping:30},children:(0,s.jsx)("div",{className:"pointer-events-auto bg-black/90 backdrop-blur-md border ".concat((()=>{switch(r){case"success":return"border-green-500/20 bg-green-500/10";case"error":return"border-red-500/20 bg-red-500/10";default:return"border-blue-500/20 bg-blue-500/10"}})()," rounded-lg shadow-lg p-4 max-w-lg mx-auto"),children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(()=>{switch(r){case"success":return(0,s.jsx)(n.A,{className:"h-5 w-5 text-green-400"});case"error":return(0,s.jsx)(c.A,{className:"h-5 w-5 text-red-400"});default:return(0,s.jsx)(d.A,{className:"h-5 w-5 text-blue-400"})}})(),(0,s.jsx)("p",{className:"ml-3 text-white",children:t})]}),(0,s.jsx)(u.$,{variant:"ghost",size:"icon",onClick:()=>{g(!1),x&&x()},className:"h-6 w-6 text-gray-400 hover:text-white hover:bg-white/10",children:(0,s.jsx)(o.A,{className:"h-4 w-4"})})]})})})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[4277,2077,4523,6874,8441,1684,7358],()=>t(626)),_N_E=e.O()}]);